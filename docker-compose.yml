volumes:
  postgres_data: {}
  solr_data: {}

services:
  httpbin:
    image: mccutchen/go-httpbin
    ports:
      - 8080:8080

  postgres:
    image: timescale/timescaledb-ha:pg14-latest
    ports:
      - 5432:5432
    environment:
      POSTGRES_HOST_AUTH_METHOD: trust
    volumes:
      - postgres_data:/var/lib/postgresql/data

  solr:
    image: solr:9.6.1
    ports:
      - 8983:8983
    volumes:
      - solr_data:/var/solr
    command:
      - solr-precreate
      - harp

  keydb:
    image: eqalpha/keydb
